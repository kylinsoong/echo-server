= Development Guide
:toc: manual

== How to create a rpm?

[source, bash]
.*1. Install the required software*
----
yum install -y rpmdevtools rpmlint
----

*2. Update 'release.spec'*

Update the `Version` and `Release` as a larger version, update the `Name` if you want to change the rpm name.

----
Name:           ttcp
Version:        x.x
Release:        x
----

[source, bash]
.*3. Run 'release.sh'*
----
./release.sh
----

The above steps execute success will genertate *ttcp-x.x-x.$ARCH.rpm* under `~/rpmbuild/RPMS/$ARCH` folder.

== How to create a docker image?

[source, bash]
.*1. Install the docker*
----
# docker -v
Docker version 20.10.14, build a224086
----

[source, bash]
.*2. Make sure rpm could build as expected, run 'build.sh'*
----
./build.sh
----

The above steps execute success will build docker images *cloudadc/ttcp:x.x-x*.

== Linux Sock Err codes

|===
|errno |description |note

|32
|Broken pipe
|Sock stream be broken

|98
|Address already in use
|bind() failed due to address already in use

|99
|Cannot assign requested address
|bind() failed due to can not assign a port

|104
|Connection reset by peer
|read or write IO err due to peer reset connection

|110
|Connection timed out
|firewall drop packet

|111
|Connection refused
|connect() failed due to incorrect port, or proxy/firewall rejection.

|113
|No route to host
|connect() failed due to incorrect host


|===
